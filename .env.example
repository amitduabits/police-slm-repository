# ============================================================
# Gujarat Police SLM - Environment Configuration
# Copy this file to .env and fill in actual values
# ============================================================

# ---- Application ----
APP_NAME=gujpol-slm
APP_ENV=development  # development | staging | production
APP_DEBUG=true
APP_PORT=8000
APP_HOST=0.0.0.0
SECRET_KEY=CHANGE_ME_TO_RANDOM_64_CHAR_STRING
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173

# ---- Database (PostgreSQL) ----
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=gujpol_slm
POSTGRES_USER=gujpol_admin
POSTGRES_PASSWORD=CHANGE_ME
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# ---- Vector Database (ChromaDB) ----
CHROMA_HOST=localhost
CHROMA_PORT=8100
CHROMA_PERSIST_DIR=./data/embeddings/chroma

# ---- Redis (Cache + Queue) ----
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/0

# ---- Model Server (llama.cpp) ----
MODEL_SERVER_HOST=localhost
MODEL_SERVER_PORT=8080
MODEL_PATH=./models/gujpol-mistral-7b-q4.gguf
MODEL_CONTEXT_SIZE=4096
MODEL_GPU_LAYERS=35
MODEL_THREADS=4

# ---- Embedding Model ----
EMBEDDING_MODEL=sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
EMBEDDING_DEVICE=cpu  # cpu | cuda
EMBEDDING_BATCH_SIZE=64

# ---- OCR Configuration ----
TESSERACT_LANGS=eng+hin+guj
PADDLEOCR_LANG=multilingual
OCR_CONFIDENCE_THRESHOLD=0.80
OCR_OUTPUT_DIR=./data/processed/ocr

# ---- Data Sources (for scraping verified legal data) ----
ECOURTS_BASE_URL=https://ecourts.gov.in
INDIAN_KANOON_BASE_URL=https://indiankanoon.org
GUJARAT_HC_BASE_URL=https://gujarathighcourt.nic.in
SCI_BASE_URL=https://main.sci.gov.in
INDIA_CODE_BASE_URL=https://www.indiacode.nic.in
NCRB_BASE_URL=https://ncrb.gov.in
NJDG_BASE_URL=https://njdg.ecourts.gov.in

# Rate limiting for scrapers (be respectful)
SCRAPER_DELAY_SECONDS=2
SCRAPER_MAX_CONCURRENT=3
SCRAPER_USER_AGENT="GujPolSLM-Research/1.0 (Academic Research; Contact: admin@gujpol.gov.in)"

# ---- Authentication (JWT) ----
JWT_SECRET_KEY=CHANGE_ME_TO_RANDOM_64_CHAR_STRING
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# ---- Encryption ----
ENCRYPTION_KEY=CHANGE_ME_TO_BASE64_32_BYTE_KEY
PII_ENCRYPTION_KEY=CHANGE_ME_TO_SEPARATE_BASE64_32_BYTE_KEY

# ---- Audit Logging ----
AUDIT_LOG_DIR=./logs/audit
AUDIT_RETENTION_DAYS=730  # 2 years

# ---- Monitoring ----
PROMETHEUS_PORT=9090
GRAFANA_PORT=3001
GRAFANA_ADMIN_PASSWORD=CHANGE_ME

# ---- Backup ----
BACKUP_DIR=./backups
BACKUP_RETENTION_DAYS=90
BACKUP_SCHEDULE_CRON="0 2 * * *"  # 2 AM daily

# ---- Fine-tuning (QLoRA) ----
TRAINING_DATA_DIR=./data/training
TRAINING_OUTPUT_DIR=./models/checkpoints
LORA_R=64
LORA_ALPHA=16
LORA_DROPOUT=0.1
TRAINING_EPOCHS=3
TRAINING_BATCH_SIZE=4
TRAINING_LR=2e-4
BASE_MODEL=mistralai/Mistral-7B-Instruct-v0.3

# ---- Claude API (for synthetic training data generation ONLY) ----
# Used during development for generating training pairs
# NOT used in production (air-gapped)
ANTHROPIC_API_KEY=CHANGE_ME
CLAUDE_MODEL=claude-sonnet-4-20250514
CLAUDE_BATCH_SIZE=50
